<% case setting %>
<% when "security" %>
  <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
    <%= devise_error_messages! %>
    <fieldset>
      <legend>Change Password</legend>
      <div class="form-group">
        <%= f.label :current_password %>
        <%= f.password_field :current_password, class: "form-control", autocomplete: "off" %>
        <p class="help-block">We need your current password to make changes.</p>
      </div>
      <div class="form-group">
        <%= f.label :password %>
        <%= f.password_field :password, class: "form-control", autocomplete: "off" %>
      </div>
      <div class="form-group">
        <%= f.label :password_confirmation %>
        <%= f.password_field :password_confirmation, class: "form-control", autocomplete: "off" %>
      </div>
      <div class="form-group submit">
        <%= f.submit "Save Settings", class: "btn btn-primary" %>
      </div>
    </fieldset>

    <fieldset>
      <legend>Two-Factor Authentication</legend>
      <p>Words about two factor auth. Nulla at nulla justo, eget luctus tortor. Nulla facilisi. Duis aliquet egestas purus in blandit. Curabitur vulputate, ligula lacinia scelerisque tempor, lacus lacus ornare ante, ac egestas est urna sit amet arcu.</p>
    </fieldset>

  <% end %>
<% when "notifications" %>
  <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
    <%= devise_error_messages! %>

    <div class="form-actions">
      <%= f.submit "Save Settings", class: "btn btn-primary" %>
    </div>
  <% end %>
<% when "credit-cards" %>
  <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
    <%= devise_error_messages! %>

    <div class="form-actions">
      <%= f.submit "Save Settings", class: "btn btn-primary" %>
    </div>
  <% end %>
<% when "bank-accounts" %>
  <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
    <%= devise_error_messages! %>

    <div class="form-actions">
      <%= f.submit "Save Settings", class: "btn btn-primary" %>
    </div>
  <% end %>
<% else %>
  <%= form_for(resource, url: update_profile_path, html: { method: :put }) do |f| %>
    <%= devise_error_messages! %>

    <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
      <p>Currently waiting confirmation for: <%= resource.unconfirmed_email %></p>
    <% end %>

    <fieldset>
      <legend>Contact Info</legend>
        <div class="field">
          <%= f.label :username %><br>
          <%= f.text_field :username %><br>
          <small>http://onedonation.com/<%= current_user.username %></small>
        </div>

        <div class="field">
          <%= f.label :first_name %><br>
          <%= f.text_field :first_name %>
        </div>

        <div class="field">
          <%= f.label :last_name %><br>
          <%= f.text_field :last_name %>
        </div>

        <div class="field">
          <%= f.label :email %><br>
          <%= f.email_field :email %>
        </div>

        <div class="field">
          <%= f.label :timezone %><br>
          <%= f.time_zone_select(:timezone, ActiveSupport::TimeZone.us_zones)  %>
        </div>

          <div class="field">
          <%= f.label :current_password, "Password" %><br>
          <%= f.password_field :current_password  %>
        </div>

        <div class="actions">
          <%= f.submit "Save Settings" %>
        </div>
    </fieldset>
  <% end %>
<% end %>

  <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
    <%= devise_error_messages! %>
    <h3>Cancel my account</h3>

    <p>Unhappy? <%= button_to "Cancel my account", registration_path(resource_name), data: { confirm: "Are you sure?" }, method: :delete %></p>

    <div class="form-actions">
      <%= f.submit "Save Settings", class: "btn btn-primary" %>
    </div>
  <% end %>

